"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@storybook/react");

var _addonActions = require("@storybook/addon-actions");

var _tabs = require("./tabs");

var colours = (0, _toConsumableArray2.default)(new Array(15)).map(function (_, i) {
  return Math.floor(1 / 15 * i * 16777215).toString(16).padStart(6, '0');
});

function fibonacci(num) {
  var memo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  if (memo[num]) return memo[num];
  if (num <= 1) return 1; // eslint-disable-next-line no-param-reassign

  memo[num] = fibonacci(num - 1, memo) + fibonacci(num - 2, memo);
  return memo[num];
}

var panels = {
  test1: {
    title: 'Tab title #1',
    // eslint-disable-next-line react/prop-types
    render: function render(_ref) {
      var active = _ref.active,
          key = _ref.key;
      return active ? _react.default.createElement("div", {
        id: "test1",
        key: key
      }, "CONTENT 1") : null;
    }
  },
  test2: {
    title: 'Tab title #2',
    // eslint-disable-next-line react/prop-types
    render: function render(_ref2) {
      var active = _ref2.active,
          key = _ref2.key;
      return _react.default.createElement("div", {
        key: key,
        id: "test2",
        style: {
          background: 'hotpink',
          minHeight: '100%',
          display: active ? 'block' : 'none'
        }
      }, "CONTENT 2");
    }
  },
  test3: {
    title: 'Tab with scroll',
    // eslint-disable-next-line react/prop-types
    render: function render(_ref3) {
      var active = _ref3.active,
          key = _ref3.key;
      return active ? _react.default.createElement("div", {
        id: "test3",
        key: key
      }, colours.map(function (colour, i) {
        return _react.default.createElement("div", {
          key: colour,
          style: {
            background: "#".concat(colour),
            height: 30 + fibonacci(i + 5) / 10
          }
        });
      })) : null;
    }
  },
  test4: {
    title: 'Tab title #4',
    // eslint-disable-next-line react/prop-types
    render: function render(_ref4) {
      var active = _ref4.active,
          key = _ref4.key;
      return active ? _react.default.createElement("div", {
        key: key,
        id: "test4"
      }, "CONTENT 4") : null;
    }
  },
  test5: {
    title: 'Tab title #5',
    // eslint-disable-next-line react/prop-types
    render: function render(_ref5) {
      var active = _ref5.active,
          key = _ref5.key;
      return active ? _react.default.createElement("div", {
        key: key,
        id: "test5"
      }, "CONTENT 5") : null;
    }
  },
  test6: {
    title: 'Tab title #6',
    // eslint-disable-next-line react/prop-types
    render: function render(_ref6) {
      var active = _ref6.active,
          key = _ref6.key;
      return _react.default.createElement(_tabs.TabWrapper, {
        key: key,
        active: active,
        render: function render() {
          return _react.default.createElement("div", null, "CONTENT 6");
        }
      });
    }
  }
};
panels.test1.propTypes = _tabs.panelProps;
panels.test2.propTypes = _tabs.panelProps;
panels.test3.propTypes = _tabs.panelProps;
panels.test4.propTypes = _tabs.panelProps;
panels.test5.propTypes = _tabs.panelProps;
panels.test6.propTypes = _tabs.panelProps;
var onSelect = (0, _addonActions.action)('onSelect');
var content = Object.entries(panels).map(function (_ref7) {
  var _ref8 = (0, _slicedToArray2.default)(_ref7, 2),
      k = _ref8[0],
      v = _ref8[1];

  return _react.default.createElement("div", {
    key: k,
    id: k,
    title: v.title
  }, v.render);
});
(0, _react2.storiesOf)('Components|Tabs', module).addDecorator(function (s) {
  return _react.default.createElement("div", {
    style: {
      height: 'calc(100vh - 20px)'
    }
  }, s());
}).add('stateful - static', function () {
  return _react.default.createElement(_tabs.TabsState, {
    initial: "test2"
  }, _react.default.createElement("div", {
    id: "test1",
    title: "With a function"
  }, function (_ref9) {
    var active = _ref9.active,
        selected = _ref9.selected;
    return active ? _react.default.createElement("div", null, selected, " is selected") : null;
  }), _react.default.createElement("div", {
    id: "test2",
    title: "With markup"
  }, _react.default.createElement("div", null, "test2 is always active (but visually hidden)")));
}).add('stateful - dynamic', function () {
  return _react.default.createElement(_tabs.TabsState, {
    initial: "test3"
  }, Object.entries(panels).map(function (_ref10) {
    var _ref11 = (0, _slicedToArray2.default)(_ref10, 2),
        k = _ref11[0],
        v = _ref11[1];

    return _react.default.createElement("div", {
      key: k,
      id: k,
      title: v.title
    }, v.render);
  }));
}).add('stateful - no initial', function () {
  return _react.default.createElement(_tabs.TabsState, null, content);
}).add('stateless - bordered', function () {
  return _react.default.createElement(_tabs.Tabs, {
    bordered: true,
    absolute: false,
    selected: "test3",
    onSelect: onSelect
  }, content);
}).add('stateless - absolute', function () {
  return _react.default.createElement(_tabs.Tabs, {
    bordered: true,
    absolute: true,
    selected: "test3",
    onSelect: onSelect
  }, content);
}).add('stateless - empty', function () {
  return _react.default.createElement(_tabs.Tabs, {
    onSelect: onSelect,
    bordered: true,
    absolute: true
  });
});